<template>
  <el-icon v-if="suffix" :size="$props.size || 18">
    <Picture v-if="FILE_MAP[suffix] === 'img'" />
    <svg
      v-else-if="FILE_MAP[suffix] === 'zip'"
      t="1765891177943"
      class="icon"
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="7867"
      width="200"
      height="200"
    >
      <path
        d="M917.811 229.069c-22.2-30.29-53.166-65.7-87.183-99.697S761.22 64.41 730.93 42.19C679.363 4.362 654.336 0 640 0H143.995C99.88 0 64 35.881 64 79.995v864.01C64 988.12 99.881 1024 143.995 1024h736.01C924.12 1024 960 988.119 960 944.005V320c0-14.336-4.362-39.342-42.189-90.931z m-132.444-54.436c30.7 30.7 54.805 58.388 72.581 81.367H704V102.052c22.979 17.776 50.688 41.881 81.367 72.581zM896 944.005c0 8.663-7.332 15.995-15.995 15.995h-736.01c-8.663 0-15.995-7.332-15.995-15.995V79.995C128 71.332 135.332 64 143.995 64H640v224.01c0 17.674 14.316 32.01 32.01 32.01h224.01v624.006zM256 64h128v64H256V64z m128 64h128v64H384v-64z m-128 64h128v64H256v-64z m128 64h128v64H384v-64z m-128 64h128v64H256v-64z m128 64h128v64H384v-64z m-128 64h128v64H256v-64z m128 64h128v64H384v-64zM256 847.995C256 874.394 277.606 896 304.005 896h160.01c26.4 0 48.005-21.606 48.005-48.005v-160.01c0-26.4-21.606-48.005-48.005-48.005H384.02v-64h-128v271.994zM448 768v64H320v-64h128z"
        fill=""
        p-id="7868"
      ></path>
    </svg>
    <svg
      v-else-if="FILE_MAP[suffix] === 'iso'"
      t="1765891592067"
      class="icon"
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="37766"
      width="200"
      height="200"
    >
      <path
        d="M512 128a384 384 0 1 0 0 768A384 384 0 0 0 512 128zM42.688 512a469.312 469.312 0 1 1 938.624 0A469.312 469.312 0 0 1 42.688 512z m426.624-341.312H512A341.312 341.312 0 0 1 853.312 512v42.624H768V512a256 256 0 0 0-256-256h-42.688V170.688z m42.688 256a85.312 85.312 0 1 0 0 170.624 85.312 85.312 0 0 0 0-170.688zM341.312 512a170.688 170.688 0 1 1 341.376 0 170.688 170.688 0 0 1-341.376 0z"
        p-id="37767"
      ></path>
    </svg>
    <svg
      v-else-if="LANG_MAP[suffix]"
      t="1765890920068"
      class="icon"
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="5731"
      width="200"
      height="200"
    >
      <path
        d="M911.29856 715.33568v183.53152A74.3168 74.3168 0 0 1 836.7616 972.8H187.18208A74.32192 74.32192 0 0 1 112.64 898.8672V125.66016A74.32192 74.32192 0 0 1 187.18208 51.712h377.856V51.2h53.28896c-0.04608 0.18432-0.05632 0.38912-0.09728 0.57856a26.35776 26.35776 0 0 1 17.024 7.6032l0.19968-0.19456 268.04224 265.85088-0.19456 0.19968a26.112 26.112 0 0 1 7.74656 18.47808h0.27648v319.06304H911.36v52.5568h-0.06144z m-294.26176-600.064v162.4576a54.34368 54.34368 0 0 0 54.56384 54.12864h163.80416z m242.53952 268.9024h-222.336a71.93088 71.93088 0 0 1-72.22784-71.64928V104.1152h-8.192v0.04608H176.128a10.61376 10.61376 0 0 0-10.6496 10.56256V909.824a10.61376 10.61376 0 0 0 10.6496 10.56256h672.768a10.624 10.624 0 0 0 10.65472-10.56256V384.16384z m-223.86688 312.76544l116.25472-47.21152v-0.8192l-116.25472-51.072v-39.52128l161.76128 77.9008v26.01984L635.70944 736.256v-39.33696z m-210.33472 94.74048L546.816 501.62688h47.2832l-121.92768 290.05312h-46.7968z m-198.84032-153.53856l161.75616-78.21824v39.51104l-115.93216 50.9184v0.96768l115.93216 47.37024v39.50592l-161.75616-74.04032v-26.01472z"
        p-id="5732"
      ></path>
    </svg>
    <Document v-else />
  </el-icon>
</template>

<script lang="ts" setup>
import { Picture, Document } from '@element-plus/icons-vue'

import { LANG_MAP, FILE_MAP } from '@/utils/option'
import { getFileSuffix } from '@/utils/file'

const $props = defineProps<{ size?: number | string; path: string }>()

const suffix = getFileSuffix($props.path)
</script>

<style lang="scss" scoped>
.file-view {
  &-img {
    max-width: 80%;
    max-height: 80%;
  }
}
</style>
